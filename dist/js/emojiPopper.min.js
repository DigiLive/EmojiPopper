var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill=function(a,b,c,g){if(b){c=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var k=a[g];k in c||(c[k]={});c=c[k]}a=a[a.length-1];g=c[a];b=b(g);b!=g&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,g){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var b=[],f=a[Symbol.iterator];if("function"==typeof f)for(a=f.call(a);!(f=a.next()).done;)b.push(c.call(g,f.value));else{f=a.length;for(var d=0;d<f;d++)b.push(c.call(g,a[d]))}return b}},"es6","es3");
(function(a){a.fn.emojiPopper=function(b){function c(b,h){var e=d&&d.getItem("emoji");if((b=b||!d)||!e)a.getJSON(f.url,function(a){d&&(d.setItem("emoji",JSON.stringify(a)),console.log("Emoji stored locally"));console.log("Remote emoji to callback");return h(a)}).fail(function(){console.error("An error occured while getting the emoji data from remote source!")});else return console.log("Local emoji to callback"),h(JSON.parse(d.getItem("emoji")))}function g(b){var h,e=['<div class="accordion" id="'+
Math.random().toString(36).substr(2,9)+'" data-type="emojiPopper">'],c="true",f="show";a.each(b,function(a,d){d.groupName!=h&&(h=d.groupName,e.push('<div class="card"><div class="card-header p-0" id="group'+a+'">'),e.push('<button type="button" class="btn btn-link btn-block" data-toggle="collapse" data-target="#collapse'+a+'" aria-expanded="'+c+'" aria-controls="collapse'+a+'">'),e.push(d.groupName),e.push("</button></div>"),e.push('<div id="collapse'+a+'" class="collapse '+f+'" aria-labelledby="group'+
a+'" data-parent="#emojiPopper">'),e.push('<div class="card-body">'));e.push('<span title="'+d.description+'">'+d.formatted+"</span>");a+1 in b&&b[a+1].groupName==h||(e.push("</div></div></div>"),c="false",f="")});e.push("</div>");return e.join("")}function k(b){m=g(b);console.log(m);a(document).on("click",'[data-type="emojiPopper"] span',function(b){var e;b=a(this).closest('[data-type="emojiPopper"]');var c=b.data("targetSelector");b=b.data("toggler");var d=a(this).text();if("undefined"!==c){var h=
a(c);c=(e=h.is("input")||h.is("textarea"))?h.val():h.text();var g=Array.from(c).length;var k=Number(h.attr("maxlength"));if(!isNaN(k)&&k<g+1)return!1;k=h[0].selectionStart;g=h[0].selectionEnd;d=c.slice(0,k)+d+c.slice(g);console.log(c," TO ",d);e?h.val(d):h.text(d)}f.autoClose&&"undefined"!==b&&b.popover("hide")});l.popover(a.extend({},f,{html:!0,sanitize:!1,content:m}));l.on("shown.bs.popover",function(){var b=a(this),c=b.attr("aria-describedby");c=a("#"+c+' [data-type="emojiPopper"]');b.removeAttr("aria-describedby").attr("aria-label",
f.title);a(c).data({targetSelector:b.data("target"),toggler:b})});l.on("show.bs.popover",function(){a(this).removeAttr("aria-describedby").attr("aria-label",f.title)});if(f.dismiss)a("body").on("click",function(b){l.each(function(){a(this).is(b.target)||0!==a(this).has(b.target).length||0!==a(".popover").has(b.target).length||a(this).popover("hide")})});return this}var f=a.extend({},{title:"Pick an emoji...",storageType:"localStorage",autoClose:!0,dismiss:!0},b),d=!1,l=a(this),m;this.initializeBefore=
function(){if("undefined"===typeof Popper)return console.error("Dependency popper.js is not loaded!"),this;if(!f.hasOwnProperty("url"))return console.error("Url to emoji listing is undefined!"),this;try{var a=window[f.storageType];a.setItem("__storage_test__","__storage_test__");a.removeItem("__storage_test__");var b=!0}catch(e){b=e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&a&&0!==a.length}b&&(d=window[f.storageType]);
return c(!1,k)};this.clearStorage=function(){d&&(d.removeItem("emoji"),console.log("Storage cleared"))};return this.initializeBefore()}})(jQuery);
//# sourceMappingURL=emojiPopper.min.js.map
